
<% if @q.empty? || @q.nil? %>
	<h3>All Problems </h3>
<% else %>
	<h3>Search result for '<%= @q %>' </h3>
<% end %>

<% if @problems.count > 0 %>
	
	<table class="table table-hover">
	  <thead>
	    <tr>
	      <th>Name</th>
	      <th>Desc</th>
	      <th>Tw hash</th>
	      <th></th>
	    </tr>
	  </thead>
	
	  <tbody>
	    <% @problems.each do |problem| %>
	      <tr>
	        <td><%= problem.name %></td>
	        <td><%= problem.desc %></td>
	        <td><%= problem.tw_hash %></td>
	        <% if !problem.users.exists?(current_user) %>
	        	<td style="text-align: center !important"><%= link_to 'Participate', participate_problem_path(problem), data: { confirm: 'Are you sure?' } %></td>
        	<% else %>
        		<td style="text-align: center !important"> * </td>
	        <% end %>
	      </tr>
	    <% end %>
	  </tbody>
	</table>
	
	<h6>* Means that you already participated in this problem.</h6>
	
	<%= will_paginate @problems, :class => "pagination" %>
	
<% else %>
	<% if @q.empty? || @q.nil? %>
		<h4> There is no problems yet.</h4>
	<% else %>
		<h3> There is no problems matched your search words.</h3>
	<% end %>
<% end %>

<%= link_to 'Show All Problems', search_problems_path, class: "btn btn-primary" %>